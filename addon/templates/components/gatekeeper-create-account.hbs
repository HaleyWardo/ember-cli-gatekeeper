{{#mdl-form submit=(action "createAccount")}}
  {{#unless useEmailForUsername}}
    {{mdl-textfield type="text"
                    value=username
                    label=usernameLabel
                    placeholder=usernamePlaceholder
                    errorMessage=usernameErrorMessage
                    fullWidth=true
                    required=true}}
  {{/unless}}

  {{mdl-textfield type="email"
                  value=email
                  label=emailLabel
                  placeholder=emailPlaceholder
                  errorMessage=emailErrorMessage
                  fullWidth=true
                  required=true}}

  {{mdl-textfield type="password"
                  value=password
                  label=passwordLabel
                  placeholder=passwordPlaceholder
                  errorMessage=passwordErrorMessage
                  fullWidth=true
                  required=true}}

  {{#if confirmPassword}}
    {{mdl-textfield type="password"
                    value=confirmedPassword
                    errorMessage=confirmErrorMessage
                    label=confirmPasswordLabel
                    placeholder=confirmPasswordPlaceholder
                    fullWidth=true
                    required=true}}
  {{/if}}

  {{#if recaptcha}}
    {{component recaptcha.componentName verified=(action (mut recaptcha.value)) expired=(action (mut recaptcha.expired) true) reset=recaptcha.reset}}
  {{/if}}

  {{#mdl-button type="submit"
                flat=submitButtonFlat
                color=submitButtonColor
                disabled=disabled}}
    {{submitButtonText}}
  {{/mdl-button}}
{{/mdl-form}}

{{mdl-snackbar message=messageToUser}}
