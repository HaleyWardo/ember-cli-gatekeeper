{{#mdc-form submit=(action "submit") valid=(action (mut valid))}}
  <div class="gatekeeper--input-controls">
    {{#unless useEmailForUsername}}
      <div class="gatekeeper--input gatekeeper--username">
        {{mdc-textfield-with-helper-text type="text"
                                         style=style
                                         value=username
                                         label=usernameLabel
                                         errorMessage=usernameErrorMessage
                                         required=true
                                         icon=usernameIcon
                                         iconPosition="trailing"
                                         iconClickable=false
                                         autocapitalize="none"}}
      </div>
    {{/unless}}

    <div class="gatekeeper--input gatekeeper--email">
      {{mdc-textfield-with-helper-text type="email"
                                       style=style
                                       value=email
                                       label=emailLabel
                                       errorMessage=emailErrorMessage
                                       required=true
                                       icon=emailIcon
                                       iconPosition="trailing"
                                       iconClickable=false}}
    </div>

    <div class="gatekeeper--input gatekeeper--password">
      {{mdc-textfield-with-helper-text type=passwordType
                                       style=style
                                       value=password
                                       label=passwordLabel
                                       errorMessage=passwordErrorMessage
                                       required=true
                                       icon=passwordIcon
                                       iconPosition="trailing"
                                       iconClickable=true
                                       iconClick=(action "toggle")}}
    </div>


    {{#if mustConfirmPassword}}
      <div class="gatekeeper--input gatekeeper--password-confirm">
        {{mdc-textfield-with-helper-text type=passwordType
                                         style=style
                                         value=confirmPassword
                                         label=confirmPasswordLabel
                                         errorMessage=confirmErrorMessage
                                         required=true
                                         icon=passwordIcon
                                         iconPosition="trailing"
                                         iconClickable=true
                                         iconClick=(action "toggle")}}
      </div>
    {{/if}}

    <div class="gatekeeper--submit">
      {{#mdc-button type="submit" style=submitButtonStyle disabled=disabled}}
        {{submitButtonText}}
      {{/mdc-button}}
    </div>
  </div>
{{/mdc-form}}

{{mdc-snackbar message=messageToUser}}
